(function(t){function e(e){for(var a,r,n=e[0],c=e[1],l=e[2],d=0,p=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0383":function(t,e,s){"use strict";s("7505")},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navbar"),s("router-view")],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light border-bottom border-success"},[s("router-link",{staticClass:"navbar-brand p-2 border border-success rounded",attrs:{to:{name:"Home"}}},[t._v("Bug Tracker ðŸ›")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?s("li",{staticClass:"nav-item",class:{active:"Profile"==t.$route.name}},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e()]),s("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-danger rounded",on:{click:t.logout}},[t._v("logout")]):s("button",{staticClass:"btn btn-success rounded",on:{click:t.login}},[t._v(" Login ")])])])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],c=s("bc3a"),l=s.n(c),u=s("335d"),d={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},p=d,g=s("2877"),m=Object(g["a"])(p,r,n,!1,null,null,null),v=m.exports,f={name:"App",async beforeCreate(){await Object(u["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:v}},h=f,b=(s("5c0b"),Object(g["a"])(h,o,i,!1,null,null,null)),C=b.exports,w=s("8c4f"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid d-flex flex-column justify-content-center"},[t._m(0),s("div",{staticClass:"row mb-2"},[t.profile.email?s("div",{staticClass:"card offset-1 col-10 mt-2 py-2 border-success"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.addBug(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBug.title,expression:"newBug.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"New Bug Title",required:""},domProps:{value:t.newBug.title},on:{input:function(e){e.target.composing||t.$set(t.newBug,"title",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newBug.description,expression:"newBug.description"}],staticClass:"form-control",attrs:{placeholder:"New Bug Description",rows:"3"},domProps:{value:t.newBug.description},on:{input:function(e){e.target.composing||t.$set(t.newBug,"description",e.target.value)}}})]),t._m(1)])]):t._e()]),s("div",{staticClass:"row mt-2"},[s("table",{staticClass:"table table-striped offset-lg-1 col-12 col-lg-10"},[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Bug Report Title")]),s("th",{attrs:{scope:"col"}},[t._v("Creator")]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Status "),s("i",{staticClass:"fa-eye-slash",class:{fas:t.fillEye,far:!t.fillEye},on:{click:t.hideClosed}})]),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Last Modified Date "),s("i",{staticClass:"fas fa-sort",on:{click:t.dateSort}})])]),s("tbody",t._l(t.bugs,(function(e){return s("tr",{directives:[{name:"show",rawName:"v-show",value:e.closed!==t.closed,expression:"bug.closed !== closed"}],key:e.id},[s("td",[s("h4",[s("router-link",{staticClass:"text-primary",attrs:{to:{name:"bug-details",params:{id:e.id}}}},[t._v(t._s(e.title))])],1)]),s("td",[s("h5",[t._v(t._s(e.creatorEmail))])]),s("td",{staticClass:"text-center"},[s("h5",[e.closed?s("span",{staticClass:"text-warning"},[t._v("Closed")]):s("span",{staticClass:"text-danger"},[t._v("Open")])])]),s("td",{staticClass:"text-center"},[s("h5",[t._v(t._s(new Date(e.updatedAt).toLocaleDateString("en-US")))])])])})),0)])])])},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("h1",{staticClass:"card offset-1 col-10 text-dark border-success my-2 py-3"},[t._v("Reported Bugs ðŸž")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-success rounded",attrs:{type:"submit"}},[t._v("Create Bug Report")])])}],x={name:"home",mounted(){this.$store.dispatch("getBugs")},data(){return{newBug:{description:"",title:""},closed:"",fillEye:!0,sort:!1}},computed:{profile(){return this.$store.state.profile},bugs(){return this.$store.state.bugs}},methods:{addBug(){this.$store.dispatch("addBug",this.newBug),this.newBug={title:"",description:""}},hideClosed(){""===this.closed?(this.closed=!0,this.fillEye=!1):(this.closed="",this.fillEye=!0)},dateSort(){!1===this.sort?this.bugs.sort((t,e)=>{let s=new Date(t.updatedAt),a=new Date(e.updatedAt);return this.sort=!0,s-a}):this.bugs.sort((t,e)=>{let s=new Date(t.updatedAt),a=new Date(e.updatedAt);return this.sort=!1,a-s})}}},B=x,$=(s("e668"),Object(g["a"])(B,_,y,!1,null,null,null)),N=$.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about text-center"},[s("h1",[t._v("Welcome "+t._s(t.profile.name))]),s("img",{staticClass:"rounded",attrs:{src:t.profile.picture,alt:""}}),s("p",[t._v(t._s(t.profile.email))])])},P=[],A={name:"Profile",computed:{profile(){return this.$store.state.profile}}},E=A,T=(s("0383"),Object(g["a"])(E,D,P,!1,null,"59c2bb44",null)),k=T.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-details container-fluid"},[s("div",{staticClass:"row text-center border-bottom border-success"},[s("div",{staticClass:"col-12 card"},[s("h1",{staticClass:"text-primary"},[t._v(t._s(t.bug.title))]),s("h2",[t._v(" Bug Status: "),s("span",{class:{"text-warning":t.bug.closed,"text-danger":!t.bug.closed}},[t._v(t._s(t.bug.closed?"Closed":"Open"))])]),t.bug.closedDate?s("h2",[t._v(" Closed on: "+t._s(new Date(t.bug.closedDate).toLocaleDateString("en-US"))+" ")]):t._e()])]),s("div",{staticClass:"row text-center"},[s("div",{staticClass:"col-12"},[s("h6",{staticClass:"py-2 my-2"},[t._v(" Created By: "),s("span",{staticClass:"text-warning"},[t._v(" "+t._s(t.bug.creatorEmail))])])]),s("div",{staticClass:"col-12 offset-md-1 col-md-10 card"},[s("p",{staticClass:"pt-2"},[t._v(t._s(t.bug.description))])])]),s("div",{staticClass:"row text-center"},[t.isCreator&&0==t.bug.closed?s("div",{staticClass:"offset-lg-3 col-12 col-lg-6 p-2"},[s("i",{staticClass:"fa fa-pencil-alt mb-1",attrs:{"aria-hidden":"true"},on:{click:function(e){t.editToggle=!t.editToggle}}},[t._v(" Click to Edit Bug Content")]),t.editToggle?s("div",[s("form",{staticClass:"form-inline row",on:{submit:function(e){return e.preventDefault(),t.editActiveBug(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.bugData.title,expression:"bugData.title"}],staticClass:"form-control col-12 mt-2 rounded-top",attrs:{type:"text",placeholder:"New Bug Title...","aria-describedby":"helpId"},domProps:{value:t.bugData.title},on:{input:function(e){e.target.composing||t.$set(t.bugData,"title",e.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bugData.description,expression:"bugData.description"}],staticClass:"form-control col-12 mb-2 rounded-bottom",attrs:{placeholder:"New Bug Text...","aria-describedby":"helpId",rows:"3"},domProps:{value:t.bugData.description},on:{input:function(e){e.target.composing||t.$set(t.bugData,"description",e.target.value)}}}),s("button",{staticClass:"btn btn-warning col-12 rounded",attrs:{type:"submit"}},[t._v(" Edit Bug ")])])]):t._e()]):t._e()]),s("div",{staticClass:"row divider-tiny"}),s("div",{staticClass:"row text-center"},[t.isCreator&&0==t.bug.closed?s("div",{staticClass:"col-12 mb-2"},[s("button",{staticClass:"btn btn-danger rounded",on:{click:t.closeBug}},[t._v(" Close Bug ")])]):t._e()]),s("div",{staticClass:"row divider-tiny"}),s("div",{staticClass:"row text-center border-bottom border-success"},[t.profile.email?s("div",{staticClass:"col-12 card"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.createNote(e)}}},[s("div",{staticClass:"input-group m-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newNote.content,expression:"newNote.content"}],staticClass:"form-control rounded",attrs:{type:"text",placeholder:"Your Note Here...","aria-describedby":"helpId"},domProps:{value:t.newNote.content},on:{input:function(e){e.target.composing||t.$set(t.newNote,"content",e.target.value)}}}),t._m(0)])])]):t._e()]),t._m(1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-center mt-2"},[s("ul",{staticClass:"list-group row"},t._l(t.notes,(function(t){return s("note-component",{key:t.id,attrs:{noteProp:t}})})),1)])])])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-success rounded",attrs:{type:"submit"}},[s("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row border-bottom border-success"},[s("div",{staticClass:"col-12 text-center my-2"},[s("h1",{staticClass:"text-primary"},[t._v("Notes")])])])}],S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"post-component col-12 border list-group-item my-2"},[s("div",{staticClass:"row text-center"},[s("div",{staticClass:"col-12"},[s("span",{staticClass:"float-right"},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:t.deleteNote}})]),s("h5",{staticClass:"text-warning"},[s("span",{staticClass:"text-dark"},[t._v("User: ")]),t._v(" "+t._s(t.noteProp.creatorEmail)+" "),s("br"),s("span",{staticClass:"text-dark"},[t._v("Note Status: ")]),s("span",{staticClass:"text-danger"},[t._v(t._s(t.noteProp.flagged))])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"offset-1 col-10 card"},[s("p",{staticClass:"pt-2"},[t._v(t._s(t.noteProp.content))])])]),t.isCreator?s("div",{staticClass:"row"},[s("div",{staticClass:"offset-lg-3 col-12 col-lg-6 p-3"},[s("i",{staticClass:"fa fa-pencil-alt mb-1",attrs:{"aria-hidden":"true"},on:{click:function(e){t.noteToggle=!t.noteToggle}}},[t._v(" Click to Edit Note Content")]),t.noteToggle?s("div",[s("form",{staticClass:"form-inline row",on:{submit:function(e){return e.preventDefault(),t.editNote(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.noteData.content,expression:"noteData.content"}],staticClass:"form-control col-12 mt-2 rounded-top",attrs:{type:"text",placeholder:"Note text...","aria-describedby":"helpId"},domProps:{value:t.noteData.content},on:{input:function(e){e.target.composing||t.$set(t.noteData,"content",e.target.value)}}}),s("select",{directives:[{name:"model",rawName:"v-model",value:t.noteData.flagged,expression:"noteData.flagged"}],staticClass:"form-control col-12 rounded-bottom",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.noteData,"flagged",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select Note Status")]),s("option",[t._v("pending")]),s("option",[t._v("completed")]),s("option",[t._v("rejected")])]),s("button",{staticClass:"btn btn-warning col-12 rounded",attrs:{type:"submit"}},[t._v(" Edit Note ")])])]):t._e()])]):t._e()])},H=[],I={name:"note-component",props:["noteProp"],data(){return{noteData:{content:this.noteProp.content},noteToggle:!1}},methods:{deleteNote(){this.$store.dispatch("deleteNote",this.noteProp.id)},editNote(){this.noteData.id=this.noteProp.id,this.$store.dispatch("editActiveNotes",this.noteData),this.noteToggle=!1}},computed:{profile(){return this.$store.state.profile},isCreator(){return this.profile.email==this.noteProp.creatorEmail}}},M=I,U=(s("b411"),Object(g["a"])(M,S,H,!1,null,null,null)),L=U.exports,R={name:"bug-details",data(){return{bugData:{title:this.$store.state.activebug.title,description:this.$store.state.activebug.description},newNote:{},editToggle:!1}},mounted(){this.$store.dispatch("getActiveBug",this.$route.params.id),this.$store.dispatch("getActiveBugNotes",this.$route.params.id)},methods:{closeBug(){this.bugData.id=this.bug.id,this.$store.dispatch("closeBug",this.bugData.id)},editActiveBug(){this.bugData.id=this.bug.id,this.bugData.closed=this.bug.closed,this.$store.dispatch("editActiveBug",this.bugData)},createNote(){let t={content:this.newNote.content,bug:this.$route.params.id,creatorEmail:this.profile.email,flagged:"pending"};this.$store.dispatch("createNote",t),this.newNote.content=""}},computed:{bugs(){return this.$store.state.bugs},bug(){return this.$store.state.activebug},notes(){return this.$store.state.activenotes},profile(){return this.$store.state.profile},isCreator(){return this.profile.email==this.bug.creatorEmail}},components:{noteComponent:L}},Y=R,Q=(s("f7ef"),Object(g["a"])(Y,O,j,!1,null,null,null)),z=Q.exports;a["a"].use(w["a"]);const J=[{path:"/",name:"Home",component:N},{path:"/bugs/:id",name:"bug-details",component:z,beforeEnter:u["b"]},{path:"/profile",name:"Profile",component:k,beforeEnter:u["b"]},{path:"*",redirect:"/"}],W=new w["a"]({routes:J});var q=W,G=s("2f62"),K=s("ac68"),Z=s.n(K);class F{static async sweetDelete(t="Are you sure you want to delete this?",e="Yes, delete it!",s="This item will be gone."){try{let a=await Z.a.fire({title:t,text:s,icon:"error",showCancelButton:!0,confirmButtonColor:"#ff0039",cancelButtonColor:"#3fb618",confirmButtonText:e});if(a.value)return!0}catch(a){}}static toast(t="You did a thing",e=3e3){Z.a.fire({title:t,icon:"success",timer:e,toast:!0,position:"top-right",showConfirmButton:!1})}}let V=location.host.includes("localhost")?"http://localhost:3000/":"/";const X=l.a.create({baseURL:V+"api",timeout:3e3,withCredentials:!0});a["a"].use(G["a"]);var tt=new G["a"].Store({state:{profile:{},bugs:[],activenotes:[],activebug:{}},mutations:{setProfile(t,e){t.profile=e},setBugs(t,e){t.bugs=e},setActiveBug(t,e){t.activebug=e},setActiveBugNotes(t,e){t.activenotes=e},removeNote(t,e){t.activenotes=t.activenotes.filter(t=>t.id!=e)}},actions:{setBearer({},t){X.defaults.headers.authorization=t},resetBearer(){X.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await X.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async getBugs({commit:t}){try{let e=await X.get("bugs");t("setBugs",e.data)}catch(e){console.error(e)}},async addBug({commit:t,state:e},s){try{let a=await X.post("bugs",s);t("setBugs",[...e.bugs,a.data]),q.push({name:"bug-details",params:{id:a.data._id}})}catch(a){console.error(a)}},async getActiveBug({commit:t},e){try{let s=await X.get("bugs/"+e);t("setActiveBug",s.data)}catch(s){console.error(s)}},async editActiveBug({commit:t},e){try{let s=await X.put("bugs/"+e.id,e);t("setActiveBug",s.data)}catch(s){console.error(s)}},async closeBug({commit:t},e){try{if(await F.sweetDelete("This Bug will be closed.","Yes, close it!","Are you sure you want to close this bug?")){let s=await X.delete("bugs/"+e);t("setActiveBug",s.data)}}catch(s){console.error(s)}},async getActiveBugNotes({commit:t},e){try{let s=await X.get("bugs/"+e+"/notes");t("setActiveBugNotes",s.data)}catch(s){console.error(s)}},async createNote({commit:t,state:e},s){try{let a=await X.post("notes",s);t("setActiveBugNotes",[...e.activenotes,a.data])}catch(a){console.error(a)}},async editActiveNotes({commit:t,state:e},s){try{let a=await X.put("notes/"+s.id,s),o=e.activenotes.findIndex(t=>t.id==s.id);e.activenotes.splice(o,1,a.data),t("setActiveBugNotes",e.activenotes)}catch(a){console.error(a)}},async deleteNote({commit:t},e){try{await F.sweetDelete("This Note will be deleted.","Yes, delete it!","This deletion is permanent.")&&(await X.delete("notes/"+e),t("removeNote",e))}catch(s){console.error(s)}}}});const et="forestlogin223.us.auth0.com",st="https://AuthCheckApi.com",at="t9ZTG6p58iyE5ncgtnpMQv65PT3QKsQE";a["a"].use(u["a"],{domain:et,clientId:at,audience:st,onRedirectCallback:t=>{q.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new a["a"]({router:q,store:tt,render:function(t){return t(C)}}).$mount("#app")},"57cb":function(t,e,s){},"5c0b":function(t,e,s){"use strict";s("9c0c")},7505:function(t,e,s){},"797c":function(t,e,s){},"9c0c":function(t,e,s){},b411:function(t,e,s){"use strict";s("797c")},e668:function(t,e,s){"use strict";s("57cb")},f7ef:function(t,e,s){"use strict";s("fd60")},fd60:function(t,e,s){}});